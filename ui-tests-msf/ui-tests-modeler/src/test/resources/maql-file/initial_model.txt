CREATE DATASET {dataset.user} VISUAL(TITLE "user", DESCRIPTION "user");CREATE DATASET {dataset.class} VISUAL(TITLE "class", DESCRIPTION "class");CREATE DATASET {dataset.city} VISUAL(TITLE "city", DESCRIPTION "city");INCLUDE TEMPLATE "urn:gooddata:date" MODIFY (IDENTIFIER "date", TITLE "Date");CREATE FOLDER {dim.user} VISUAL(TITLE "user") TYPE ATTRIBUTE;CREATE ATTRIBUTE {attr.user.userid} VISUAL(TITLE "userid", DESCRIPTION "userid", FOLDER {dim.user}) AS KEYS {f_user.id} FULLSET;ALTER DATASET {dataset.user} ADD {attr.user.userid};ALTER ATTRIBUTE {attr.user.userid} ADD LABELS {label.user.userid} VISUAL(TITLE "userid") AS {f_user.nm_userid};CREATE FOLDER {dim.city} VISUAL(TITLE "city") TYPE ATTRIBUTE;CREATE ATTRIBUTE {attr.city.cityid} VISUAL(TITLE "cityid", DESCRIPTION "cityid", FOLDER {dim.city}) AS KEYS {f_city.id} FULLSET;ALTER DATASET {dataset.city} ADD {attr.city.cityid};ALTER ATTRIBUTE {attr.city.cityid} ADD LABELS {label.city.cityid} VISUAL(TITLE "cityid") AS {f_city.nm_cityid};CREATE FOLDER {dim.class} VISUAL(TITLE "class") TYPE ATTRIBUTE;CREATE ATTRIBUTE {attr.class.factsof} VISUAL(TITLE "Records of class", DESCRIPTION "Records of class", FOLDER {dim.class}) AS KEYS {f_class.id} FULLSET;ALTER DATASET {dataset.class} ADD {attr.class.factsof};CREATE FOLDER {ffld.class} VISUAL(TITLE "class") TYPE FACT;CREATE FACT {fact.class.classtotal} VISUAL(TITLE "classtotal", DESCRIPTION "classtotal", FOLDER {ffld.class}) AS {f_class.f_classtotal};ALTER DATASET {dataset.class} ADD {fact.class.classtotal};ALTER ATTRIBUTE {date.date} ADD KEYS {f_user.dt_date_id};ALTER ATTRIBUTE {attr.user.userid} ADD KEYS {f_class.user_id};ALTER ATTRIBUTE {attr.city.cityid} ADD KEYS {f_class.city_id};SYNCHRONIZE {dataset.city}, {dataset.class}, {dataset.user};